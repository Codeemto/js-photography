<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="icon" href="images/favicon.svg" type="image/x-icon">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9J2MOjmj4mr9MECpbbtG0vKYmZTl7L8nKr7Pn/+vfXSk1m5N0p5TR7R" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.3.0/css/lightgallery.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
     <style>
      body {
    font-family: Arial, sans-serif;
    background: linear-gradient(to right, #f8f9fa, #e0e0e0);
}

.container {
    background: linear-gradient(135deg, #e0f7fa 25%, #ffffff 100%);
    border-radius: 10px;
    padding: 20px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    margin-top: 20px;
}

h1 {
    text-align: center;
    font-size: 2.5rem;
    margin-bottom: 20px;
    animation: fadeInDown 2s ease-in-out;
    color: #333;
}

p {
    font-size: 0.9rem;
    line-height: 1.6;
    margin-bottom: 20px;
    color: #555;
}

.navbar-brand {
    font-size: 1.5rem;
    font-weight: bold;
    color: #62a0e3;
    margin-right: 85px;
    transition: color 0.3s ease;
    animation: fadeInDown 2s ease-in-out;
}

.nav-link {
    font-size: 1rem;
    color: #007bff;
    transition: color 0.3s ease;
    margin-top: 3%;
}

.nav-link:hover {
    color: #0056b3;
}

h2 {
    text-align: center;
    font-size: 2.5rem;
    margin-bottom: 20px;
    animation: fadeInDown 2s ease-in-out;
}

h3 {
    margin-top: 10px;
    font-size: 1.2rem;
    color: #72b5fc;
    transition: color 0.3s ease;
}

h3:hover {
    color: #0056b3;
}

.img-fluid {
    border-radius: 10px;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.img-fluid:hover {
    transform: scale(1.05);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
}

footer {
    margin-top: 20px;
    text-align: center;
    background-color: #c9d8e7;
    padding: 20px 0;
    box-shadow: 0 -4px 8px rgba(0, 0, 0, 0.1);
}

footer h5 {
    margin-bottom: 20px;
    font-size: 1.25rem;
    color: #333;
}

footer a {
    font-size: 1.5rem;
    color: #007bff;
    transition: color 0.3s ease;
    margin: 0 10px;
}

footer a:hover {
    color: #0056b3;
}

@keyframes fadeInDown {
    0% {
        opacity: 0;
        transform: translateY(-20px);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

    </style>
    <link rel="stylesheet" href="css/styles.css">
    <title>Gallery</title>
  </head>
  <body>

    <div class="container-fluid p-0 m-0">
        
      
        <nav class="navbar navbar-expand-lg navbar-light bg-light shadow" id="nav">
            <div class="container-fluid">
              <a class="navbar-brand" href="#" id="brand">
                <img src="images/js-logo.png" alt="Joe's Photography Logo" style="height: 120px;">
              </a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                  <li class="nav-item">
                    <a class="nav-link" href="index.html">Home</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="gallery.html">Gallery</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="prices.html">Prices & Packages</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="contact.html">Contact</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="testimonials.html">Testimonials</a>
                  </li>
                </ul>
              </div>
            </div>
          </nav>

        <section class="container">
            <h2>Gallery</h2>
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="weddings-tab" data-bs-toggle="tab" href="#weddings" role="tab">Weddings</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="family-tab" data-bs-toggle="tab" href="#family" role="tab">Family</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="commercial-tab" data-bs-toggle="tab" href="#commercial" role="tab">Commercial</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="nature-tab" data-bs-toggle="tab" href="#nature" role="tab">Nature</a>
                </li>
            </ul>
            <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade show active" id="weddings" role="tabpanel">
                    <div class="row" id="weddings-gallery"></div>
                </div>
                <div class="tab-pane fade" id="family" role="tabpanel">
                    <div class="row" id="family-gallery"></div>
                </div>
                <div class="tab-pane fade" id="commercial" role="tabpanel">
                    <div class="row" id="commercial-gallery"></div>
                </div>
                <div class="tab-pane fade" id="nature" role="tabpanel">
                    <div class="row" id="nature-gallery"></div>
                </div>
            </div>
        </section>

      
        <footer class="bg-light text-center text-lg-start">
            <div class="container p-4">
              <div class="row justify-content-center">
                <div class="col-lg-6 col-md-12 mb-4 mb-md-0">
                  <h5 class="text-uppercase">Follow Us</h5>
                  <a href="#" class="me-4 text-reset">
                    <i class="fab fa-twitter"></i>
                  </a>
                  <a href="#" class="me-4 text-reset">
                    <i class="fab fa-pinterest"></i>
                  </a>
                  <a href="#" class="me-4 text-reset">
                    <i class="fab fa-instagram"></i>
                  </a>
                  <a href="#" class="me-4 text-reset">
                    <i class="fab fa-tiktok"></i>
                  </a>
                </div>
              </div>
            </div>
            <div class="text-center p-3 bg-light">
              Â© 2024 Jo Smith Photography
            </div>
          </footer>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.3.0/lightgallery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.3.0/plugins/thumbnail/lg-thumbnail.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.3.0/plugins/zoom/lg-zoom.min.js"></script>
    <script>// declaration of variables
const navbar = document.getElementById("nav");
const brandName = document.getElementById("brand");
const searchKey = document.getElementById("searchKey");
const searchBtn = document.getElementById("searchBtn");
const searchQuery = document.getElementById("searchQuery");
const column1 = document.getElementById("col-1");
const column2 = document.getElementById("col-2");
const column3 = document.getElementById("col-3");
const errorGrid = document.getElementById("errorGrid");
const modalBody = document.getElementById("modalBody");
const imageViewLink = document.getElementById("imageViewLink");

var orderByValue = '';

// APIs.
API_KEY = "uBKIG1jkH0aEymy0Mvjx_X0Ii0LbuzAhIrGy6Xm6HnE";
apiUrl = "https://api.unsplash.com/photos/?client_id="+API_KEY+"&per_page=300";
searchUrl = "https://api.unsplash.com/search/photos/?client_id="+API_KEY+"&query=";

imageURLS = [];

window.onload = (event) => {
    fetchData();
}

const fetchData = async () => {

    var tempUrl = apiUrl;

    if(orderByValue != '') {
        tempUrl += ('&order_by='+orderByValue);
    }

    const response = await (fetch(apiUrl).catch(handleError));
    const myJson = await response.json();

    var imageArrays = myJson;

    imageArrays.forEach(element => {
        imageURLS.push(element.urls.small);
    });

    displayImage();

}

var handleError = function(err) {
    console.warn(err);
    errorGrid.innerHTML = "<h4>Unable to fetch data "+err+"</h5>";
}

function displayImage() {
    errorGrid.innerHTML = "";
    if(imageURLS.length == 0) {
        errorGrid.innerHTML = "<h4>Unable to fetch data.</h5>";
        return;
    }

    column1.innerHTML = "";
    column2.innerHTML = "";
    column3.innerHTML = "";

    imageURLS.forEach((url,index) => {
        // dynamic image tag 
        var image = document.createElement('img');
        image.src = url;
        image.className="pt-4";
        image.setAttribute("width", "100%");
        image.setAttribute("onclick","displayFullImage(this.src)");

        if( (index + 1) % 3 == 0 ) {
            column1.appendChild(image);
        }
        if( (index + 2) % 3 == 0 ) {
            column2.appendChild(image);
        }
        if( (index + 3) % 3 == 0 ) {
            column3.appendChild(image);
        }
        
    });

}

function displayFullImage(src) {

    // dynamic image tag 
    var image = document.createElement('img');
    image.src = src;
    image.className="mt-3";
    image.setAttribute("width", "100%");

    modalBody.innerHTML = "";
    modalBody.appendChild(image);

    imageViewLink.href=src;

    var myModal = new bootstrap.Modal(document.getElementById('modal'), {});
    myModal.show();
}

searchBtn.addEventListener("click",function() {

    if(searchKey.value != ''){
        fetchSearchData(searchKey.value);
    }

});

const fetchSearchData = async (key) => {

    imageURLS = [];

    var orderbyvar = orderByValue; 
    var tempUrl = searchUrl + key;

    if(orderbyvar != '') {
        tempUrl += ("&order_by="+orderbyvar);
    }

    searchQuery.innerHTML = searchKey.value;
    
    let response = await (fetch(tempUrl).catch(handleError));
    let myJson = await response.json();
    tempUrl += "&per_page="+myJson.total;

    response = await (fetch(tempUrl).catch(handleError));
    myJson = await response.json();

    console.log(myJson);

    var imageArrays = myJson.results;

    imageArrays.forEach(element => {
        imageURLS.push(element.urls.regular);
    });

    displayImage();

}

function orderBy() {
    orderByValue = document.getElementById("orderby").value;
    imageURLS = [];

    if(searchKey.value != '') {
        fetchSearchData(searchKey.value);
    }else {
        fetchData();
    }
}


document.getElementById("pagination").addEventListener("select.uk.pagination",function(e,page){
    alert(page);
})</script>

    <script> const API_KEY = "C7rXGYecSfFksT_rO8D-ii94tEbmUvGE8xYCXqILOH4";
const galleries = {
    'weddings': 'wedding',
    'family': 'family',
    'commercial': 'commercial',
    'nature': 'nature'
};

document.addEventListener("DOMContentLoaded", function() {
    for (const [galleryId, query] of Object.entries(galleries)) {
        fetchPhotos(query, `${galleryId}-gallery`);
    }
});

function fetchPhotos(query, galleryId) {
    const tempUrl = `https://api.unsplash.com/search/photos?query=${query}&client_id=${API_KEY}&per_page=30`;

    fetch(tempUrl)
        .then(response => response.json())
        .then(data => {
            const gallery = document.getElementById(galleryId);
            gallery.innerHTML = data.results.map(photo => `
                <div class="col-lg-4 col-md-6 mb-4">
                    <a href="${photo.urls.full}" data-lg-size="${photo.width}-${photo.height}">
                        <img src="${photo.urls.thumb}" alt="${photo.alt_description}" class="img-fluid" />
                    </a>
                </div>
            `).join('');
            lightGallery(gallery, {
                plugins: [lgThumbnail, lgZoom],
                speed: 500
            });
        })
        .catch(error => {
            console.error('Error fetching photos:', error);
            const gallery = document.getElementById(galleryId);
            gallery.innerHTML = "<h4>Unable to fetch data.</h4>";
        });
}

document.getElementById('contact-button').addEventListener('click', function() {
    $('#enquiryModal').modal('show');
});

function initMap() {
    
    const location = { lat: 56.462, lng: -2.9707 }; 

    
    const map = new google.maps.Map(document.getElementById("map"), {
        zoom: 12,
        center: location,
    });

   
    const marker = new google.maps.Marker({
        position: location,
        map: map,
    });
}
 </script>
    <script src="js/index.js"></script>
    <script src="js/script.js"></script>
  </body>
</html>
